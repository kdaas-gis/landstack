'use client';


import React, { createContext, useContext, useState } from 'react';

type Language = 'en' | 'kn';

type Translations = {
    [key in Language]: {
        [key: string]: string;
    };
};

const translations: Translations = {
    en: {
        'app.title': 'Karnataka Landstack',
        'map.legend': 'Map Legend',
        'map.layers': 'Visible Layers',
        'layer.districts': 'Districts',
        'layer.taluks': 'Taluks',
        'layer.hoblis': 'Hoblis',
        'layer.villages': 'Villages',
        'layer.bengaluru_rural': 'Bengaluru Rural',
        'layer.bengaluru_urban': 'Survey Boundary',
        'layer.survey_polygons': 'Government Vacant Land',
        'base.satellite': 'Satellite',
        'base.road': 'Road',
        'base.hybrid': 'Hybrid',
        'base.terrain': 'Terrain',
        'base.osm': 'OpenStreetMap',
        'base.bbmp': 'BBMP',
        'tool.zoomIn': 'Zoom In',
        'tool.zoomOut': 'Zoom Out',
        'tool.reset': 'Reset View',
        'tool.measure': 'Measure',
        'tool.identify': 'Identify',
        'tool.search': 'Search Villages...',
        'info.district': 'District',
        'info.featureDetails': 'Feature Details',
        'info.dataSource': 'Data Source',
        'info.attributes': 'Attributes',
        'info.property': 'Property',
        'info.value': 'Value',
        'info.uniqueId': 'Unique ID',
        'tool.advancedSearch': 'Advanced Search',
        'layer.district': 'District',
        'layer.taluk': 'Taluk',
        'layer.hobli': 'Hobli',
        'layer.village': 'Village',
        'advancedSearch.title': 'Advanced Search',
        'advancedSearch.search': 'Search',
        'advancedSearch.cancel': 'Cancel',
        'tool.currentLocation': 'Current Location',
        // Feature Attributes
        'attr.kgisdist_n': 'District Name',
        'attr.kgisdistri': 'District Code',
        'attr.lgd_dst_n': 'District',
        'attr.lgd_distri': 'District Code',
        'attr.Taluk Name': 'Taluk Name',
        'attr.kgistalukc': 'Taluk Code',
        'attr.lgd_tlk_n': 'Taluk',
        'attr.lgd_talukc': 'Taluk Code',
        'attr.kgistalukn': 'Taluk Name',
        'attr.Hobli Name': 'Hobli Name',
        'attr.Hobli Code': 'Hobli Code',
        'attr.kgishoblin': 'Hobli',
        'attr.kgishoblic': 'Hobli Code',
        'attr.Village Name': 'Village Name',
        'attr.Village Code': 'Village Code',
        'attr.lgd_vill_n': 'Village',
        'attr.lgd_vill_c': 'Village Code',
        // Layer Names
        'application:district_boundary': 'District',
        'application:taluk_boundary': 'Taluk',
        'application:hobli_boundary': 'Hobli',
        'application:village_boundary': 'Village',
        'application:village_boundary_dissolved': 'Village',
        // BU Layers
        'BU_bengaluru_east_Sva:east_polygon': 'Bengaluru East Svamitva',
        'BU_bengaluru_north_Sva:north_polygon': 'Bengaluru North Svamitva',
        'BU_bengaluru_south_Sva:south_polygon': 'Bengaluru South Svamitva',
        'BU_anekal_Sva:anekal_polygon': 'Anekal Svamitva',
        'BU_yelahanka_Sva:yelahanka_polygon': 'Yelahanka Svamitva',
        'advancedSearch.mode.location': 'Location',
        'advancedSearch.mode.dd': 'Decimal Degrees',
        'advancedSearch.mode.dms': 'DMS',
        'advancedSearch.reset': 'Reset',
        'advancedSearch.goToCoords': 'Search',
        'coord.lat': 'Latitude',
        'coord.lon': 'Longitude',
        'coord.degrees': 'Degrees',
        'coord.minutes': 'Minutes',
        'coord.seconds': 'Seconds',
        'coord.direction': 'Direction',
        'coord.n': 'N',
        'coord.s': 'S',
        'coord.e': 'E',
        'coord.w': 'W',
        'coord.dd.description': 'Enter coordinates in decimal degrees format. Positive for North/East, negative for South/West.',
        'coord.dms.description': 'Enter coordinates in Degrees, Minutes, Seconds format.',
        // New Keys
        'tool.parcelSearch': 'PARCEL SEARCH',
        'tool.draw': 'Draw (D)',
        'search.survey_no': 'Survey No',
        'search.surnoc': 'Surnoc',
        'search.hissa': 'Hissa',
        'search.placeholder.district': 'Select District...',
        'search.placeholder.taluk': 'Select Taluk...',
        'search.placeholder.hobli': 'Select Hobli...',
        'search.placeholder.village': 'Select Village...',
        'search.placeholder.num': 'Num...',
        'search.placeholder.sur': 'Sur...',
        'search.placeholder.his': 'His...',
        'legend.bu.title': 'BU Legend',
        'legend.bu.govtLands': 'BU Govt Geo-Fenced Lands',
        'tool.collapse': 'Collapse',
        'tool.expand': 'Expand',
        'tool.show': 'Show',
        'draw.point': 'Point',
        'draw.line': 'Line',
        'draw.linestring': 'Line',
        'draw.polygon': 'Polygon',
        'draw.rectangle': 'Rectangle',
        'draw.snap': 'Snap',
        'draw.undo': 'Undo',
        'draw.redo': 'Redo',
        'draw.cancel': 'Cancel',
        'coord.title': 'Coords',
        'coord.polygonTitle': 'Polygon Coordinates',
        'mode.draw': 'Draw Mode',
        'mode.measure': 'Measure Mode',
        'mode.identify': 'Identify Mode',
        'mode.exit': 'ESC to exit',
        'attr.karab': 'Kharab',
        'attr.akarband_acres': 'Akarband (Acres)',
        'attr.akarband_guntas': 'Akarband (Guntas)',
        'attr.name_as_rtc': 'Name as per RTC',
        'attr.area_asp_polygon': 'Area as per polygon',
        'attr.survey_no': 'Survey No',
        'attr.surnoc': 'Surnoc',
        'attr.hissa_no': 'Hissa No',
        'attr.surveynu_1': 'Survey No',
        'attr.hobli_n': 'Hobli',
        'attr.ownership_type': 'Ownership Type',
        'attr.nature_of_land': 'Nature of Land',
        'attr.comments': 'Comments',
        'attr.akb_in_acres': 'Akarband (Acres)',
        'attr.akb_in_guntas': 'Akarband (Guntas)',
        'attr.date': 'Date',
        'attr.time': 'Time',
        'attr.Owber': 'Owner',
        'attr.survey_num': 'Survey No',
        'attr.hissa_num': 'Hissa No',

        'tool.zoom': 'Zoom',
        'Points': 'Points',
        'Polygon': 'Polygon',
        'Anekal': 'Anekal',
        'Bengaluru East': 'Bengaluru East',
        'Bengaluru North': 'Bengaluru North',
        'Bengaluru South': 'Bengaluru South',
        'Yelahanka': 'Yelahanka',
    },
    kn: {
        'app.title': 'ಕರ್ನಾಟಕ ಲ್ಯಾಂಡ್‌ಸ್ಟ್ಯಾಕ್',
        'map.legend': 'ಭೂಪಟ ವಿವರಣೆ',
        'map.layers': 'ಗೋಚರಿಸುವ ಪದರಗಳು',
        'layer.districts': 'ಜಿಲ್ಲೆಗಳು',
        'layer.taluks': 'ತಾಲ್ಲೂಕುಗಳು',
        'layer.hoblis': 'ಹೋಬಳಿಗಳು',
        'layer.villages': 'ಹಳ್ಳಿಗಳು',
        'layer.bengaluru_rural': 'ಬೆಂಗಳೂರು ಗ್ರಾಮಾಂತರ',
        'layer.bengaluru_urban': 'ಸಮೀಕ್ಷೆ ಗಡಿಗಳು',
        'layer.survey_polygons': 'ಸರ್ಕಾರಿ ಖಾಲಿ ಭೂಮಿ',
        'base.satellite': 'ಉಪಗ್ರಹ',
        'base.road': 'ರಸ್ತೆ',
        'base.hybrid': 'ಹೈಬ್ರಿಡ್',
        'base.terrain': 'ಭೂಪ್ರದೇಶ',
        'base.osm': 'ಓಪನ್ ಸ್ಟ್ರೀಟ್ ಮ್ಯಾಪ್',
        'base.bbmp': 'ಬಿಬಿಎಂಪಿ',
        'tool.zoomIn': 'ಹಿಗ್ಗಿಸಿ',
        'tool.zoomOut': 'ಕುಗ್ಗಿಸಿ',
        'tool.reset': 'ಮರುಹೊಂದಿಸಿ',
        'tool.measure': 'ಅಳತೆ',
        'tool.identify': 'ಗುರುತಿಸಿ',
        'tool.search': 'ಹಳ್ಳಿಗಳನ್ನು ಹುಡುಕಿ...',
        'info.district': 'ಜಿಲ್ಲೆ',
        'info.featureDetails': 'ವೈಶಿಷ್ಟ್ಯ ವಿವರಗಳು',
        'info.dataSource': 'ಡೇಟಾ ಮೂಲ',
        'info.attributes': 'ಗುಣಲಕ್ಷಣಗಳು',
        'info.property': 'ಗುಣಲಕ್ಷಣ',
        'info.value': 'ಮೌಲ್ಯ',
        'info.uniqueId': 'ವಿಶಿಷ್ಟ ಐಡಿ',
        // Feature Attributes
        'attr.kgisdistri': 'ಜಿಲ್ಲಾ ಕೋಡ್',
        'attr.lgd distri': 'ಜಿಲ್ಲಾ ಕೋಡ್',
        'attr.lgd_dst_n': 'ಜಿಲ್ಲೆಯ ಹೆಸರು',
        'attr.lgd talukc': 'ತಾಲೂಕು ಕೋಡ್',
        'attr.kgistalukc': 'ತಾಲೂಕು ಕೋಡ್',
        'attr.lgd_tlk_n': 'ತಾಲೂಕು ಹೆಸರು',
        'attr.kgishoblic': 'ಹೋಬಳಿ ಕೋಡ್',
        'attr.kgishoblin': 'ಹೋಬಳಿ ಹೆಸರು',
        'attr.lgd_vill_n': 'ಹಳ್ಳಿಯ ಹೆಸರು',
        'attr.lgd_vill_c': 'ಹಳ್ಳಿಯ ಕೋಡ್',
        'attr.kgistalukn': 'ತಾಲೂಕು ಹೆಸರು',
        'attr.lgd_talukc': 'ತಾಲೂಕು ಕೋಡ್',
        'attr.kgisdist_n': 'ಜಿಲ್ಲೆಯ ಹೆಸರು',
        'attr.lgd_distri': 'ಜಿಲ್ಲಾ ಕೋಡ್',
        'attr.karab': 'ಖರಾಬು',
        'attr.akarband_acres': 'ಆಕಾರ್‌ಬಂದ್ (ಎಕರೆ)',
        'attr.akarband_guntas': 'ಆಕಾರ್‌ಬಂದ್ (ಗುಂಟೆ)',
        'attr.name_as_rtc': 'ಆರ್‌ಟಿಸಿ ಇಂದ ಹೆಸರು',
        'attr.area_asp_polygon': 'ಬಹುಭುಜಾಕೃತಿ ವಿಸ್ತೀರ್ಣ',
        'attr.survey_no': 'ಸರ್ವೆ ನಂಬರ್',
        'attr.surnoc': 'ಸರ್ನೋಕ್',
        'attr.hissa_no': 'ಹಿಸ್ಸಾ ನಂಬರ್',
        'attr.surveynu_1': 'ಸರ್ವೆ ನಂಬರ್',
        'attr.hobli_n': 'ಹೋಬಳಿ',
        // Layer Names
        'application:district_boundary': 'ಜಿಲ್ಲೆ',
        'application:taluk_boundary': 'ತಾಲೂಕು',
        'application:hobli_boundary': 'ಹೋಬಳಿ',
        'application:village_boundary': 'ಹಳ್ಳಿ',
        'application:village_boundary_dissolved': 'ಹಳ್ಳಿ',
        // BU Layers
        'BU_bengaluru_east_Sva:east_polygon': 'ಬೆಂಗಳೂರು ಪೂರ್ವ ಸ್ವಾಮಿತ್ವ',
        'BU_bengaluru_north_Sva:north_polygon': 'ಬೆಂಗಳೂರು ಉತ್ತರ ಸ್ವಾಮಿತ್ವ',
        'BU_bengaluru_south_Sva:south_polygon': 'ಬೆಂಗಳೂರು ದಕ್ಷಿಣ ಸ್ವಾಮಿತ್ವ',
        'BU_anekal_Sva:anekal_polygon': 'ಆನೇಕಲ್ ಸ್ವಾಮಿತ್ವ',
        'BU_yelahanka_Sva:yelahanka_polygon': 'ಯಲಹಂಕ ಸ್ವಾಮಿತ್ವ',
        'advancedSearch.mode.location': 'ಸ್ಥಳ',
        'advancedSearch.mode.dd': 'ದಶಮಾಂಶ ಡಿಗ್ರಿ',
        'advancedSearch.mode.dms': 'ಡಿಎಂಎಸ್',
        'coord.lat': 'ಅಕ್ಷಾಂಶ',
        'coord.lon': 'ರೇಖಾಂಶ',
        'coord.degrees': 'ಡಿಗ್ರಿ',
        'coord.minutes': 'ನಿಮಿಷ',
        'coord.seconds': 'ಸೆಕೆಂಡ್',
        'coord.direction': 'ದಿಕ್ಕು',
        'coord.n': 'ಉ',
        'coord.s': 'ದ',
        'coord.e': 'ಪೂ',
        'coord.w': 'ಪ',
        'tool.advancedSearch': 'ಸುಧಾರಿತ ಹುಡುಕಾಟ',
        'advancedSearch.title': 'ಸುಧಾರಿತ ಹುಡುಕಾಟ',
        'advancedSearch.search': 'ಹುಡುಕಿ',
        'advancedSearch.cancel': 'ರದ್ದುಮಾಡಿ',
        'advancedSearch.reset': 'ಮರುಹೊಂದಿಸಿ',
        'advancedSearch.goToCoords': 'ಹುಡುಕಿ',
        'tool.currentLocation': 'ಪ್ರಸ್ತುತ ಸ್ಥಳ',
        'layer.district': 'ಜಿಲ್ಲೆ',
        'layer.taluk': 'ತಾಲೂಕು',
        'layer.hobli': 'ಹೋಬಳಿ',
        'layer.village': 'ಗ್ರಾಮ',
        'coord.dd.description': 'ದಶಮಾಂಶ ಡಿಗ್ರಿ ಸ್ವರೂಪದಲ್ಲಿ ನಿರ್ದೇಶಾಂಕಗಳನ್ನು ನಮೂದಿಸಿ. ಉತ್ತರ/ಪೂರ್ವಕ್ಕೆ ಧನಾತ್ಮಕ, ದಕ್ಷಿಣ/ಪಶ್ಚಿಮಕ್ಕೆ ಋಣಾತ್ಮಕ.',
        'coord.dms.description': 'ಡಿಗ್ರಿ, ನಿಮಿಷ, ಸೆಕೆಂಡ್ ಸ್ವರೂಪದಲ್ಲಿ ನಿರ್ದೇಶಾಂಕಗಳನ್ನು ನಮೂದಿಸಿ.',
        // New Keys
        'tool.parcelSearch': 'ಪಾರ್ಸೆಲ್ಗಾಗಿ ಹುಡುಕಿ',
        'tool.draw': 'ಬರೆಯಿರಿ (D)',
        'search.survey_no': 'ಸರ್ವೆ ನಂ',
        'search.surnoc': 'ಸರ್ನೋಕ್',
        'search.hissa': 'ಹಿಸ್ಸಾ',
        'search.placeholder.district': 'ಜಿಲ್ಲೆಯನ್ನು ಆರಿಸಿ...',
        'search.placeholder.taluk': 'ತಾಲೂಕನ್ನು ಆರಿಸಿ...',
        'search.placeholder.hobli': 'ಹೋಬಳಿಯನ್ನು ಆರಿಸಿ...',
        'search.placeholder.village': 'ಗ್ರಾಮವನ್ನು ಆರಿಸಿ...',
        'search.placeholder.num': 'ನಂ...',
        'search.placeholder.sur': 'ಸರ್...',
        'search.placeholder.his': 'ಹಿ...',
        'legend.bu.title': 'ಬಿ.ಯು ವಿವರಣೆ',
        'legend.bu.govtLands': 'ಬಿ.ಯು ಸರ್ಕಾರಿ ಜಿಯೋ-ಫೆನ್ಸಿಂಗ್ ಭೂಮಿಗಳು',
        'tool.collapse': 'ಕುಗ್ಗಿಸಿ',
        'tool.expand': 'ವಿಸ್ತರಿಸಿ',
        'tool.show': 'ತೋರಿಸಿ',
        'draw.point': 'ಬಿಂದು',
        'draw.line': 'ರೇಖೆ',
        'draw.linestring': 'ರೇಖೆ',
        'draw.polygon': 'ಬಹುಭುಜಾಕೃತಿ',
        'draw.rectangle': 'ಆಯತ',
        'draw.snap': 'ಸ್ನ್ಯಾಪ್',
        'draw.undo': 'ರದ್ದು',
        'draw.redo': 'ಮತ್ತೆ ಮಾಡಿ',
        'draw.cancel': 'ರದ್ದುಮಾಡಿ',
        'coord.title': 'ನಿರ್ದೇಶಾಂಕಗಳು',
        'coord.polygonTitle': 'ಬಹುಭುಜಾಕೃತಿ ನಿರ್ದೇಶಾಂಕಗಳು',
        'mode.draw': 'ಬರೆಯುವ ಕ್ರಮ',
        'mode.measure': 'ಅಳತೆ ಕ್ರಮ',
        'mode.identify': 'ಗುರುತಿಸುವ ಕ್ರಮ',
        'mode.exit': 'ನಿರ್ಗಮಿಸಲು ESC ಒತ್ತಿರಿ',
        'attr.ownership_type': 'ಮಾಲೀಕತ್ವದ ಪ್ರಕಾರ',
        'attr.nature_of_land': 'ಭೂಮಿಯ ಸ್ವರೂಪ',
        'attr.comments': 'ಕಾಮೆಂಟ್‌ಗಳು',
        'attr.akb_in_acres': 'ಆಕಾರ್‌ಬಂದ್ (ಎಕರೆ)',
        'attr.akb_in_guntas': 'ಆಕಾರ್‌ಬಂದ್ (ಗುಂಟೆ)',
        'attr.date': 'ದಿನಾಂಕ',
        'attr.time': 'ಸಮಯ',
        'attr.Owber': 'ಮಾಲೀಕರು',
        'attr.survey_num': 'ಸರ್ವೆ ನಂ',
        'attr.hissa_num': 'ಹಿಸ್ಸಾ ನಂ',

        'tool.zoom': 'ಜೂಮ್',
        'Points': 'ಬಿಂದುಗಳು',
        'Polygon': 'ಬಹುಭುಜಾಕೃತಿ',
        'Anekal': 'ಆನೇಕಲ್',
        'Bengaluru East': 'ಬೆಂಗಳೂರು ಪೂರ್ವ',
        'Bengaluru North': 'ಬೆಂಗಳೂರು ಉತ್ತರ',
        'Bengaluru South': 'ಬೆಂಗಳೂರು ದಕ್ಷಿಣ',
        'Yelahanka': 'ಯಲಹಂಕ',
    },
};

type LanguageContextType = {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string) => string;
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { readonly children: React.ReactNode }) {
    const [language, setLanguage] = useState<Language>('en');

    const t = (key: string) => {
        return translations[language][key] || key;
    };

    const value = React.useMemo(() => ({ language, setLanguage, t }), [language]);

    return (
        <LanguageContext.Provider value={value}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
}
